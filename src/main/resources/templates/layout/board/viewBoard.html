<!DOCTYPE html>
<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{/layout/basic}"
        xmlns:sec="http://www.w3.org/1999/xhtml">
<!-- Responsive navbar-->
<th:block layout:fragment="content">
    <!-- Page content-->
    <th:block layout:fragment="page_content" id="page_content">
        <div class="container">
            <div class="login-wrapper">
                <h3>글 상세</h3>
                <br/>
                <div>
                    <label>제목 :</label>
                    <a th:text="${boardInfo.title}" id="title"/>
                </div>
                <div>
                    <label>작성자 :</label>
                    <a th:text="${boardInfo.user.userName}" id="username"/>
                </div>
                <br/>
                <div class="mb-3">
                    <textarea disabled class="form-control" id="summernote"
                              th:utext="${boardInfo.getContent().toString()}"
                              rows="3"></textarea>
                </div>
                <br/>
                <form method="post" action="/boards">
                    <input type="hidden" name="_method" value="DELETE"/>
                    <input type="hidden" th:value="${boardInfo.id}" name="boardId"/>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <button type="button" class="btn btn-primary" sec:authorize="isAuthenticated()"
                                th:if="${principalDetails.getUser().getUserId() == boardInfo.user.userId}"
                                th:onclick="'location.href=\''+ @{/boards/update/{id}(id = ${boardInfo.id})} + '\''">수정
                        </button>
                        <button type="submit" class="btn btn-danger"
                                th:if="${principalDetails.getUser().getUserId() == boardInfo.user.userId
                                or principalDetails.getUser.getRole()=='ROLE_ADMIN'}">
                            삭제
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <button type="button" class="btn btn-secondary" onclick="location.href='/boards'">목록</button>
    </th:block>
    <th:block layout:fragment="script">
        <script>
            $(document).ready(function () {
                $('#summernote').summernote('disable');
            });

        </script>
    </th:block>
</th:block>

</html>
